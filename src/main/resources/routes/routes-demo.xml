

<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://camel.apache.org/schema/spring"
    xsi:schemaLocation="http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd ">

    <route id="HelloRequest">
        <from uri="activemq:queue:phucFrom" />
        <log message="Hello ${body}"/>
        <process ref="helloRequestProcess" />
        <process ref="helloRequestProcess2" />
<!--        <to uri="sql:select * from tutorials"/>-->
        <to uri="mybatis:findAllTutorials?statementType=SelectList"/>
        <process ref="helloRequestProcess3" />
<!--        <to uri="activemq:queue:phucTo2" />-->
    </route>

    <route id="GetAllTutorialRequest">
        <from uri="activemq:queue:MyBatisGetAll" />
        <to uri="mybatis:findAllTutorials?statementType=SelectList"/>
        <process ref="getAllTutorialResponseProcessor" />
    </route>
    <route id="FindTutorialByIdRequest">
        <from uri="activemq:queue:MybatisFindTutorialById" />
        <process ref="findTutorialByIdRequestProcessor" />
        <to uri="mybatis:findById?statementType=SelectOne"/>
        <process ref="findTutorialByIdResponseProcessor" />
    </route>

    <route id="CreateTutorialRequest">
        <from uri="activemq:queue:MyBatisCreateOneRow" />
        <process ref="createTutorialRequestProcessor" />
        <to uri="mybatis:insertTutorial?statementType=Insert"/>
        <process ref="createTutorialResponseProcessor" />
    </route>
    <route id="CreateTutorialsRequest">
        <from uri="activemq:queue:MybatisCreateTutorials" />
        <process ref="createTutorialsRequestProcessor" />
        <to uri="mybatis:insertTutorials?statementType=InsertList"/>
    </route>

    <route id="UpdateTutorialsRequest">
        <from uri="activemq:queue:MybatisUpdateTutorials" />
        <process ref="updateTutorialsRequestProcessor" />
        <to uri="mybatis:updateTutorials?statementType=UpdateList"/>
    </route>

    <route id="DeleteTutorialsRequest">
        <from uri="activemq:queue:MybatisDeleteTutorials" />
        <process ref="deleteTutorialsRequestProcessor" />
        <to uri="mybatis:deleteTutorials?statementType=DeleteList"/>
    </route>

    <route id="TransactionalRequest">
        <from uri="activemq:queue:MybatisTransactionalRequest" />
        <transacted ref="txRequired" />
<!--            <doTry>-->
                <process ref="updateTutorialsRequestProcessor" />
                <to uri="mybatis:updateTutorials?statementType=UpdateList"/>
                <process ref="transactionRequestProcessor" />
                <to uri="mybatis:insertTutorials?statementType=InsertList"/>
<!--                <doCatch>-->
<!--                    <exception>java.lang.Exception</exception>-->
<!--                    <log message="aaaaaaaaaaaaaa" />-->
<!--&lt;!&ndash;                    <rollback message="An error has occurred"/>&ndash;&gt;-->
<!--                </doCatch>-->
<!--            </doTry>-->
<!--        </transacted>-->

<!--        <process ref="transactionFailureHandler" />-->

<!--        <onException>-->
<!--            <exception>java.lang.Exception</exception>-->
<!--            <handled><constant>true</constant></handled>-->
<!--            <rollback message="An error has occurred" markRollbackOnly="true"/>-->
<!--        </onException>-->
    </route>

</routes>